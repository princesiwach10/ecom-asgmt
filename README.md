# E-Commerce Assignement API (Django + DRF)

In-memory e-commerce demo: products, cart, checkout, and **every Nth order** gets a **single-use 10% discount** (admin-generated).  
All data is in memory and resets on process restart.

## Requirements

- Python 3.10+
- Django 4.x, DRF
- drf-spectacular (for OpenAPI/Swagger)

## Quick Start

```bash
python -m venv .venv
# macOS/Linux: source .venv/bin/activate
# Windows (PowerShell): .\.venv\Scripts\activate

pip install -r requirements.txt
python manage.py runserver
```

## Configuration (env vars)

- `NTH_ORDER_FOR_DISCOUNT` (int, default `3`)
- `DISCOUNT_PERCENT` (int, default `10`)
- `ADMIN_API_KEY` (string, required for `/api/admin/*`)

You can use a `.env` or set OS env vars before running.

## API Docs

Interactive docs and schema are auto-generated by **drf-spectacular**:

- Swagger UI: `/api/docs/`
- Redoc: `/api/redoc/`
- OpenAPI schema: `/api/schema/`

> For using/working with the docs, **follow drf-spectacularâ€™s documentation**.

## Testing

```bash
python manage.py test -v 2
```

## Notes

- **Headers**:

  - `X-User-Id` (optional) identifies the user for cart/checkout (demo only).
  - `X-Admin-Key` is required for admin endpoints and must match `settings.ADMIN_API_KEY`.

- **State**: In-memory store; restart clears all carts/orders/codes.

```

```
